<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns:th="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>RNP</title>

    <link
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="../Dash/assets/materialize/css/materialize.min.css"
      media="screen,projection"
    />
    <!-- Bootstrap Styles-->
    <link href="../Dash/assets/css/bootstrap.css" rel="stylesheet" />
    <!-- FontAwesome Styles-->
    <link href="../Dash/assets/css/font-awesome.css" rel="stylesheet" />
    <!-- Morris Chart Styles-->
    <link
      href="../Dash/assets/js/morris/morris-0.4.3.min.css"
      rel="stylesheet"
    />
    <!-- Custom Styles-->
    <link href="../Dash/assets/css/custom-styles.css" rel="stylesheet" />
    <!-- Google Fonts-->
    <link
      href="http://fonts.googleapis.com/css?family=Open+Sans"
      rel="stylesheet"
      type="text/css"
    />
    <link
      rel="stylesheet"
      href="../Dash/assets/js/Lightweight-Chart/cssCharts.css"
    />
    <script>
      function confirmAction() {
        let confirmation = confirm("Are you sure you want to delete?");
        if (confirmation) {
          return true;
        } else {
          return false;
        }
      }

      function confirmEdit() {
        let confirmation = confirm("Are you sure you want to edit?");
        if (confirmation) {
          return true;
        } else {
          return false;
        }
      }
    </script>
  </head>
  <body>
    <div id="wrapper" style="background-color: #001f5d">
      <div th:replace="Dashboard/shared/header"></div>

      <!--/. NAV TOP  -->
      <div th:replace="Dashboard/shared/sidebar"></div>
      <!-- /. NAV SIDE  -->
      <div id="page-wrapper" style="background-color: #87ceeb">
        <div class="header" style="background-color: #87ceeb">
          <h1 class="page-header">Users Page</h1>

          <a
            style="margin-left: 30px"
            class="btn btn-second"
            th:href="@{/admin/userPage}"
            >Add user</a
          >
        </div>

        <div id="page-inner">
          <div class="row">
            <div class="col-md-12">
              <!-- Advanced Tables -->
              <div class="card">
                <div class="card-action">User Tables</div>

                <div
                  th:if="${message != null}"
                  style="
                    padding: 10px 20px;
                    color: white;
                    background-color: #388526;
                  "
                >
                  <span class="block sm:inline">[[${message}]]</span>
                </div>

                <div class="card-content">
                  <div class="table-responsive">
                    <form>
                      <table
                        class="table table-striped table-bordered table-hover"
                        id="dataTables-example"
                      >
                        <thead>
                          <tr>
                            <th>firstName</th>
                            <th>lastName</th>
                            <th>email</th>
                            <th>password</th>
                            <th>Roles</th>
                            <th>Actions</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr th:each="users : ${viewUsers}" class="odd gradeX">
                            <td th:text="${users.fName}"></td>
                            <td th:text="${users.lName}"></td>
                            <td th:text="${users.email}"></td>
                            <td th:text="${users.password}"></td>
                            <td th:text="${users.role}"></td>
                            <td>
                              <a
                                onclick="return confirmAction()"
                                th:href="@{'/admin/deleteUser/' + ${users.id}}"
                                class="btn btn-danger btn-delete"
                                >Delete</a
                              >
                            </td>
                          </tr>
                        </tbody>
                      </table>
                    </form>
                  </div>
                </div>
              </div>
              <!--End Advanced Tables -->
            </div>
          </div>

          <footer><p>All right reserved</p></footer>
        </div>
        <!-- /. PAGE INNER  -->
      </div>
    </div>
    <!-- jQuery Js -->
    <script src="../Dash/assets/js/jquery-1.10.2.js"></script>

    <!-- Bootstrap Js -->
    <script src="../Dash/assets/js/bootstrap.min.js"></script>

    <script src="../Dash/assets/materialize/js/materialize.min.js"></script>

    <!-- Metis Menu Js -->
    <script src="../Dash/assets/js/jquery.metisMenu.js"></script>
    <!-- Morris Chart Js -->
    <script src="../Dash/assets/js/morris/raphael-2.1.0.min.js"></script>
    <script src="../Dash/assets/js/morris/morris.js"></script>

    <script src="../Dash/assets/js/easypiechart.js"></script>
    <script src="../Dash/assets/js/easypiechart-data.js"></script>

    <script src="../Dash/assets/js/Lightweight-Chart/jquery.chart.js"></script>
    <!-- DATA TABLE SCRIPTS -->
    <script src="../Dash/assets/js/dataTables/jquery.dataTables.js"></script>
    <script src="../Dash/assets/js/dataTables/dataTables.bootstrap.js"></script>
    <script>
      $(document).ready(function () {
        $("#dataTables-example").dataTable();
      });
    </script>
    <!-- Custom Js -->
    <script src="../Dash/assets/js/custom-scripts.js"></script>
  </body>
</html>
